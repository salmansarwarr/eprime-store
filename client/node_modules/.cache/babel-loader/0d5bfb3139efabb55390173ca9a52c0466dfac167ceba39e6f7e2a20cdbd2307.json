{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _toConsumableArray = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\nvar tr46 = require(\"tr46\");\nvar infra = require(\"./infra\");\nvar _require = require(\"./encoding\"),\n  utf8DecodeWithoutBOM = _require.utf8DecodeWithoutBOM;\nvar _require2 = require(\"./percent-encoding\"),\n  percentDecodeString = _require2.percentDecodeString,\n  utf8PercentEncodeCodePoint = _require2.utf8PercentEncodeCodePoint,\n  utf8PercentEncodeString = _require2.utf8PercentEncodeString,\n  isC0ControlPercentEncode = _require2.isC0ControlPercentEncode,\n  isFragmentPercentEncode = _require2.isFragmentPercentEncode,\n  isQueryPercentEncode = _require2.isQueryPercentEncode,\n  isSpecialQueryPercentEncode = _require2.isSpecialQueryPercentEncode,\n  isPathPercentEncode = _require2.isPathPercentEncode,\n  isUserinfoPercentEncode = _require2.isUserinfoPercentEncode;\nfunction p(char) {\n  return char.codePointAt(0);\n}\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\nvar failure = Symbol(\"failure\");\nfunction countSymbols(str) {\n  return _toConsumableArray(str).length;\n}\nfunction at(input, idx) {\n  var c = input[idx];\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\n}\nfunction isSingleDot(buffer) {\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\n}\nfunction isDoubleDot(buffer) {\n  buffer = buffer.toLowerCase();\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\n}\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\n  return infra.isASCIIAlpha(cp1) && (cp2 === p(\":\") || cp2 === p(\"|\"));\n}\nfunction isWindowsDriveLetterString(string) {\n  return string.length === 2 && infra.isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\n}\nfunction isNormalizedWindowsDriveLetterString(string) {\n  return string.length === 2 && infra.isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\n}\nfunction containsForbiddenHostCodePoint(string) {\n  return string.search(/\\0|\\t|\\n|\\r| |#|%|\\/|:|<|>|\\?|@|\\[|\\\\|\\]|\\^|\\|/) !== -1;\n}\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\n  return string.search(/\\0|\\t|\\n|\\r| |#|\\/|:|<|>|\\?|@|\\[|\\\\|\\]|\\^|\\|/) !== -1;\n}\nfunction isSpecialScheme(scheme) {\n  return specialSchemes[scheme] !== undefined;\n}\nfunction isSpecial(url) {\n  return isSpecialScheme(url.scheme);\n}\nfunction isNotSpecial(url) {\n  return !isSpecialScheme(url.scheme);\n}\nfunction defaultPort(scheme) {\n  return specialSchemes[scheme];\n}\nfunction parseIPv4Number(input) {\n  if (input === \"\") {\n    return failure;\n  }\n  var R = 10;\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\n    input = input.substring(2);\n    R = 16;\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\n    input = input.substring(1);\n    R = 8;\n  }\n  if (input === \"\") {\n    return 0;\n  }\n  var regex = /(?:[\\0-\\/8-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n  if (R === 10) {\n    regex = /(?:[\\0-\\/:-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n  }\n  if (R === 16) {\n    regex = /(?:[\\0-\\/:-@G-`g-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n  }\n  if (regex.test(input)) {\n    return failure;\n  }\n  return parseInt(input, R);\n}\nfunction parseIPv4(input) {\n  var parts = input.split(\".\");\n  if (parts[parts.length - 1] === \"\") {\n    if (parts.length > 1) {\n      parts.pop();\n    }\n  }\n  if (parts.length > 4) {\n    return failure;\n  }\n  var numbers = [];\n  var _iterator = _createForOfIteratorHelper(parts),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var part = _step.value;\n      var _n = parseIPv4Number(part);\n      if (_n === failure) {\n        return failure;\n      }\n      numbers.push(_n);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  for (var i = 0; i < numbers.length - 1; ++i) {\n    if (numbers[i] > 255) {\n      return failure;\n    }\n  }\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\n    return failure;\n  }\n  var ipv4 = numbers.pop();\n  var counter = 0;\n  for (var _i = 0, _numbers = numbers; _i < _numbers.length; _i++) {\n    var n = _numbers[_i];\n    ipv4 += n * Math.pow(256, 3 - counter);\n    ++counter;\n  }\n  return ipv4;\n}\nfunction serializeIPv4(address) {\n  var output = \"\";\n  var n = address;\n  for (var i = 1; i <= 4; ++i) {\n    output = String(n % 256) + output;\n    if (i !== 4) {\n      output = \".\".concat(output);\n    }\n    n = Math.floor(n / 256);\n  }\n  return output;\n}\nfunction parseIPv6(input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  input = Array.from(input, function (c) {\n    return c.codePointAt(0);\n  });\n  if (input[pointer] === p(\":\")) {\n    if (input[pointer + 1] !== p(\":\")) {\n      return failure;\n    }\n    pointer += 2;\n    ++pieceIndex;\n    compress = pieceIndex;\n  }\n  while (pointer < input.length) {\n    if (pieceIndex === 8) {\n      return failure;\n    }\n    if (input[pointer] === p(\":\")) {\n      if (compress !== null) {\n        return failure;\n      }\n      ++pointer;\n      ++pieceIndex;\n      compress = pieceIndex;\n      continue;\n    }\n    var value = 0;\n    var length = 0;\n    while (length < 4 && infra.isASCIIHex(input[pointer])) {\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\n      ++pointer;\n      ++length;\n    }\n    if (input[pointer] === p(\".\")) {\n      if (length === 0) {\n        return failure;\n      }\n      pointer -= length;\n      if (pieceIndex > 6) {\n        return failure;\n      }\n      var numbersSeen = 0;\n      while (input[pointer] !== undefined) {\n        var ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (input[pointer] === p(\".\") && numbersSeen < 4) {\n            ++pointer;\n          } else {\n            return failure;\n          }\n        }\n        if (!infra.isASCIIDigit(input[pointer])) {\n          return failure;\n        }\n        while (infra.isASCIIDigit(input[pointer])) {\n          var number = parseInt(at(input, pointer));\n          if (ipv4Piece === null) {\n            ipv4Piece = number;\n          } else if (ipv4Piece === 0) {\n            return failure;\n          } else {\n            ipv4Piece = ipv4Piece * 10 + number;\n          }\n          if (ipv4Piece > 255) {\n            return failure;\n          }\n          ++pointer;\n        }\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\n        ++numbersSeen;\n        if (numbersSeen === 2 || numbersSeen === 4) {\n          ++pieceIndex;\n        }\n      }\n      if (numbersSeen !== 4) {\n        return failure;\n      }\n      break;\n    } else if (input[pointer] === p(\":\")) {\n      ++pointer;\n      if (input[pointer] === undefined) {\n        return failure;\n      }\n    } else if (input[pointer] !== undefined) {\n      return failure;\n    }\n    address[pieceIndex] = value;\n    ++pieceIndex;\n  }\n  if (compress !== null) {\n    var swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex !== 0 && swaps > 0) {\n      var temp = address[compress + swaps - 1];\n      address[compress + swaps - 1] = address[pieceIndex];\n      address[pieceIndex] = temp;\n      --pieceIndex;\n      --swaps;\n    }\n  } else if (compress === null && pieceIndex !== 8) {\n    return failure;\n  }\n  return address;\n}\nfunction serializeIPv6(address) {\n  var output = \"\";\n  var compress = findLongestZeroSequence(address);\n  var ignore0 = false;\n  for (var pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\n    if (ignore0 && address[pieceIndex] === 0) {\n      continue;\n    } else if (ignore0) {\n      ignore0 = false;\n    }\n    if (compress === pieceIndex) {\n      var separator = pieceIndex === 0 ? \"::\" : \":\";\n      output += separator;\n      ignore0 = true;\n      continue;\n    }\n    output += address[pieceIndex].toString(16);\n    if (pieceIndex !== 7) {\n      output += \":\";\n    }\n  }\n  return output;\n}\nfunction parseHost(input) {\n  var isNotSpecialArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (input[0] === \"[\") {\n    if (input[input.length - 1] !== \"]\") {\n      return failure;\n    }\n    return parseIPv6(input.substring(1, input.length - 1));\n  }\n  if (isNotSpecialArg) {\n    return parseOpaqueHost(input);\n  }\n  var domain = utf8DecodeWithoutBOM(percentDecodeString(input));\n  var asciiDomain = domainToASCII(domain);\n  if (asciiDomain === failure) {\n    return failure;\n  }\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\n    return failure;\n  }\n  if (endsInANumber(asciiDomain)) {\n    return parseIPv4(asciiDomain);\n  }\n  return asciiDomain;\n}\nfunction endsInANumber(input) {\n  var parts = input.split(\".\");\n  if (parts[parts.length - 1] === \"\") {\n    if (parts.length === 1) {\n      return false;\n    }\n    parts.pop();\n  }\n  var last = parts[parts.length - 1];\n  if (parseIPv4Number(last) !== failure) {\n    return true;\n  }\n  if (/^[0-9]+$/.test(last)) {\n    return true;\n  }\n  return false;\n}\nfunction parseOpaqueHost(input) {\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\n    return failure;\n  }\n  return utf8PercentEncodeString(input, isC0ControlPercentEncode);\n}\nfunction findLongestZeroSequence(arr) {\n  var maxIdx = null;\n  var maxLen = 1; // only find elements > 1\n  var currStart = null;\n  var currLen = 0;\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] !== 0) {\n      if (currLen > maxLen) {\n        maxIdx = currStart;\n        maxLen = currLen;\n      }\n      currStart = null;\n      currLen = 0;\n    } else {\n      if (currStart === null) {\n        currStart = i;\n      }\n      ++currLen;\n    }\n  }\n\n  // if trailing zeros\n  if (currLen > maxLen) {\n    return currStart;\n  }\n  return maxIdx;\n}\nfunction serializeHost(host) {\n  if (typeof host === \"number\") {\n    return serializeIPv4(host);\n  }\n\n  // IPv6 serializer\n  if (host instanceof Array) {\n    return \"[\".concat(serializeIPv6(host), \"]\");\n  }\n  return host;\n}\nfunction domainToASCII(domain) {\n  var beStrict = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var result = tr46.toASCII(domain, {\n    checkBidi: true,\n    checkHyphens: false,\n    checkJoiners: true,\n    useSTD3ASCIIRules: beStrict,\n    verifyDNSLength: beStrict\n  });\n  if (result === null || result === \"\") {\n    return failure;\n  }\n  return result;\n}\nfunction trimControlChars(url) {\n  return url.replace(/^[\\0- ]+|[\\0- ]+$/g, \"\");\n}\nfunction trimTabAndNewline(url) {\n  return url.replace(/\\t|\\n|\\r/g, \"\");\n}\nfunction shortenPath(url) {\n  var path = url.path;\n  if (path.length === 0) {\n    return;\n  }\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\n    return;\n  }\n  path.pop();\n}\nfunction includesCredentials(url) {\n  return url.username !== \"\" || url.password !== \"\";\n}\nfunction cannotHaveAUsernamePasswordPort(url) {\n  return url.host === null || url.host === \"\" || hasAnOpaquePath(url) || url.scheme === \"file\";\n}\nfunction hasAnOpaquePath(url) {\n  return typeof url.path === \"string\";\n}\nfunction isNormalizedWindowsDriveLetter(string) {\n  return /^[A-Za-z]:$/.test(string);\n}\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\n  this.pointer = 0;\n  this.input = input;\n  this.base = base || null;\n  this.encodingOverride = encodingOverride || \"utf-8\";\n  this.stateOverride = stateOverride;\n  this.url = url;\n  this.failure = false;\n  this.parseError = false;\n  if (!this.url) {\n    this.url = {\n      scheme: \"\",\n      username: \"\",\n      password: \"\",\n      host: null,\n      port: null,\n      path: [],\n      query: null,\n      fragment: null\n    };\n    var _res = trimControlChars(this.input);\n    if (_res !== this.input) {\n      this.parseError = true;\n    }\n    this.input = _res;\n  }\n  var res = trimTabAndNewline(this.input);\n  if (res !== this.input) {\n    this.parseError = true;\n  }\n  this.input = res;\n  this.state = stateOverride || \"scheme start\";\n  this.buffer = \"\";\n  this.atFlag = false;\n  this.arrFlag = false;\n  this.passwordTokenSeenFlag = false;\n  this.input = Array.from(this.input, function (c) {\n    return c.codePointAt(0);\n  });\n  for (; this.pointer <= this.input.length; ++this.pointer) {\n    var c = this.input[this.pointer];\n    var cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\n\n    // exec state machine\n    var ret = this[\"parse \".concat(this.state)](c, cStr);\n    if (!ret) {\n      break; // terminate algorithm\n    } else if (ret === failure) {\n      this.failure = true;\n      break;\n    }\n  }\n}\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\n  if (infra.isASCIIAlpha(c)) {\n    this.buffer += cStr.toLowerCase();\n    this.state = \"scheme\";\n  } else if (!this.stateOverride) {\n    this.state = \"no scheme\";\n    --this.pointer;\n  } else {\n    this.parseError = true;\n    return failure;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\n  if (infra.isASCIIAlphanumeric(c) || c === p(\"+\") || c === p(\"-\") || c === p(\".\")) {\n    this.buffer += cStr.toLowerCase();\n  } else if (c === p(\":\")) {\n    if (this.stateOverride) {\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\n        return false;\n      }\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\n        return false;\n      }\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\n        return false;\n      }\n      if (this.url.scheme === \"file\" && this.url.host === \"\") {\n        return false;\n      }\n    }\n    this.url.scheme = this.buffer;\n    if (this.stateOverride) {\n      if (this.url.port === defaultPort(this.url.scheme)) {\n        this.url.port = null;\n      }\n      return false;\n    }\n    this.buffer = \"\";\n    if (this.url.scheme === \"file\") {\n      if (this.input[this.pointer + 1] !== p(\"/\") || this.input[this.pointer + 2] !== p(\"/\")) {\n        this.parseError = true;\n      }\n      this.state = \"file\";\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\n      this.state = \"special relative or authority\";\n    } else if (isSpecial(this.url)) {\n      this.state = \"special authority slashes\";\n    } else if (this.input[this.pointer + 1] === p(\"/\")) {\n      this.state = \"path or authority\";\n      ++this.pointer;\n    } else {\n      this.url.path = \"\";\n      this.state = \"opaque path\";\n    }\n  } else if (!this.stateOverride) {\n    this.buffer = \"\";\n    this.state = \"no scheme\";\n    this.pointer = -1;\n  } else {\n    this.parseError = true;\n    return failure;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\n  if (this.base === null || hasAnOpaquePath(this.base) && c !== p(\"#\")) {\n    return failure;\n  } else if (hasAnOpaquePath(this.base) && c === p(\"#\")) {\n    this.url.scheme = this.base.scheme;\n    this.url.path = this.base.path;\n    this.url.query = this.base.query;\n    this.url.fragment = \"\";\n    this.state = \"fragment\";\n  } else if (this.base.scheme === \"file\") {\n    this.state = \"file\";\n    --this.pointer;\n  } else {\n    this.state = \"relative\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\n  if (c === p(\"/\") && this.input[this.pointer + 1] === p(\"/\")) {\n    this.state = \"special authority ignore slashes\";\n    ++this.pointer;\n  } else {\n    this.parseError = true;\n    this.state = \"relative\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\n  if (c === p(\"/\")) {\n    this.state = \"authority\";\n  } else {\n    this.state = \"path\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\n  this.url.scheme = this.base.scheme;\n  if (c === p(\"/\")) {\n    this.state = \"relative slash\";\n  } else if (isSpecial(this.url) && c === p(\"\\\\\")) {\n    this.parseError = true;\n    this.state = \"relative slash\";\n  } else {\n    this.url.username = this.base.username;\n    this.url.password = this.base.password;\n    this.url.host = this.base.host;\n    this.url.port = this.base.port;\n    this.url.path = this.base.path.slice();\n    this.url.query = this.base.query;\n    if (c === p(\"?\")) {\n      this.url.query = \"\";\n      this.state = \"query\";\n    } else if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    } else if (!isNaN(c)) {\n      this.url.query = null;\n      this.url.path.pop();\n      this.state = \"path\";\n      --this.pointer;\n    }\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\n  if (isSpecial(this.url) && (c === p(\"/\") || c === p(\"\\\\\"))) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"special authority ignore slashes\";\n  } else if (c === p(\"/\")) {\n    this.state = \"authority\";\n  } else {\n    this.url.username = this.base.username;\n    this.url.password = this.base.password;\n    this.url.host = this.base.host;\n    this.url.port = this.base.port;\n    this.state = \"path\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\n  if (c === p(\"/\") && this.input[this.pointer + 1] === p(\"/\")) {\n    this.state = \"special authority ignore slashes\";\n    ++this.pointer;\n  } else {\n    this.parseError = true;\n    this.state = \"special authority ignore slashes\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\n  if (c !== p(\"/\") && c !== p(\"\\\\\")) {\n    this.state = \"authority\";\n    --this.pointer;\n  } else {\n    this.parseError = true;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\n  if (c === p(\"@\")) {\n    this.parseError = true;\n    if (this.atFlag) {\n      this.buffer = \"%40\".concat(this.buffer);\n    }\n    this.atFlag = true;\n\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\n    var len = countSymbols(this.buffer);\n    for (var pointer = 0; pointer < len; ++pointer) {\n      var codePoint = this.buffer.codePointAt(pointer);\n      if (codePoint === p(\":\") && !this.passwordTokenSeenFlag) {\n        this.passwordTokenSeenFlag = true;\n        continue;\n      }\n      var encodedCodePoints = utf8PercentEncodeCodePoint(codePoint, isUserinfoPercentEncode);\n      if (this.passwordTokenSeenFlag) {\n        this.url.password += encodedCodePoints;\n      } else {\n        this.url.username += encodedCodePoints;\n      }\n    }\n    this.buffer = \"\";\n  } else if (isNaN(c) || c === p(\"/\") || c === p(\"?\") || c === p(\"#\") || isSpecial(this.url) && c === p(\"\\\\\")) {\n    if (this.atFlag && this.buffer === \"\") {\n      this.parseError = true;\n      return failure;\n    }\n    this.pointer -= countSymbols(this.buffer) + 1;\n    this.buffer = \"\";\n    this.state = \"host\";\n  } else {\n    this.buffer += cStr;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse hostname\"] = URLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\n  if (this.stateOverride && this.url.scheme === \"file\") {\n    --this.pointer;\n    this.state = \"file host\";\n  } else if (c === p(\":\") && !this.arrFlag) {\n    if (this.buffer === \"\") {\n      this.parseError = true;\n      return failure;\n    }\n    if (this.stateOverride === \"hostname\") {\n      return false;\n    }\n    var host = parseHost(this.buffer, isNotSpecial(this.url));\n    if (host === failure) {\n      return failure;\n    }\n    this.url.host = host;\n    this.buffer = \"\";\n    this.state = \"port\";\n  } else if (isNaN(c) || c === p(\"/\") || c === p(\"?\") || c === p(\"#\") || isSpecial(this.url) && c === p(\"\\\\\")) {\n    --this.pointer;\n    if (isSpecial(this.url) && this.buffer === \"\") {\n      this.parseError = true;\n      return failure;\n    } else if (this.stateOverride && this.buffer === \"\" && (includesCredentials(this.url) || this.url.port !== null)) {\n      this.parseError = true;\n      return false;\n    }\n    var _host = parseHost(this.buffer, isNotSpecial(this.url));\n    if (_host === failure) {\n      return failure;\n    }\n    this.url.host = _host;\n    this.buffer = \"\";\n    this.state = \"path start\";\n    if (this.stateOverride) {\n      return false;\n    }\n  } else {\n    if (c === p(\"[\")) {\n      this.arrFlag = true;\n    } else if (c === p(\"]\")) {\n      this.arrFlag = false;\n    }\n    this.buffer += cStr;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\n  if (infra.isASCIIDigit(c)) {\n    this.buffer += cStr;\n  } else if (isNaN(c) || c === p(\"/\") || c === p(\"?\") || c === p(\"#\") || isSpecial(this.url) && c === p(\"\\\\\") || this.stateOverride) {\n    if (this.buffer !== \"\") {\n      var port = parseInt(this.buffer);\n      if (port > Math.pow(2, 16) - 1) {\n        this.parseError = true;\n        return failure;\n      }\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\n      this.buffer = \"\";\n    }\n    if (this.stateOverride) {\n      return false;\n    }\n    this.state = \"path start\";\n    --this.pointer;\n  } else {\n    this.parseError = true;\n    return failure;\n  }\n  return true;\n};\nvar fileOtherwiseCodePoints = new Set([p(\"/\"), p(\"\\\\\"), p(\"?\"), p(\"#\")]);\nfunction startsWithWindowsDriveLetter(input, pointer) {\n  var length = input.length - pointer;\n  return length >= 2 && isWindowsDriveLetterCodePoints(input[pointer], input[pointer + 1]) && (length === 2 || fileOtherwiseCodePoints.has(input[pointer + 2]));\n}\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\n  this.url.scheme = \"file\";\n  this.url.host = \"\";\n  if (c === p(\"/\") || c === p(\"\\\\\")) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"file slash\";\n  } else if (this.base !== null && this.base.scheme === \"file\") {\n    this.url.host = this.base.host;\n    this.url.path = this.base.path.slice();\n    this.url.query = this.base.query;\n    if (c === p(\"?\")) {\n      this.url.query = \"\";\n      this.state = \"query\";\n    } else if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    } else if (!isNaN(c)) {\n      this.url.query = null;\n      if (!startsWithWindowsDriveLetter(this.input, this.pointer)) {\n        shortenPath(this.url);\n      } else {\n        this.parseError = true;\n        this.url.path = [];\n      }\n      this.state = \"path\";\n      --this.pointer;\n    }\n  } else {\n    this.state = \"path\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\n  if (c === p(\"/\") || c === p(\"\\\\\")) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"file host\";\n  } else {\n    if (this.base !== null && this.base.scheme === \"file\") {\n      if (!startsWithWindowsDriveLetter(this.input, this.pointer) && isNormalizedWindowsDriveLetterString(this.base.path[0])) {\n        this.url.path.push(this.base.path[0]);\n      }\n      this.url.host = this.base.host;\n    }\n    this.state = \"path\";\n    --this.pointer;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\n  if (isNaN(c) || c === p(\"/\") || c === p(\"\\\\\") || c === p(\"?\") || c === p(\"#\")) {\n    --this.pointer;\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\n      this.parseError = true;\n      this.state = \"path\";\n    } else if (this.buffer === \"\") {\n      this.url.host = \"\";\n      if (this.stateOverride) {\n        return false;\n      }\n      this.state = \"path start\";\n    } else {\n      var host = parseHost(this.buffer, isNotSpecial(this.url));\n      if (host === failure) {\n        return failure;\n      }\n      if (host === \"localhost\") {\n        host = \"\";\n      }\n      this.url.host = host;\n      if (this.stateOverride) {\n        return false;\n      }\n      this.buffer = \"\";\n      this.state = \"path start\";\n    }\n  } else {\n    this.buffer += cStr;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\n  if (isSpecial(this.url)) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"path\";\n    if (c !== p(\"/\") && c !== p(\"\\\\\")) {\n      --this.pointer;\n    }\n  } else if (!this.stateOverride && c === p(\"?\")) {\n    this.url.query = \"\";\n    this.state = \"query\";\n  } else if (!this.stateOverride && c === p(\"#\")) {\n    this.url.fragment = \"\";\n    this.state = \"fragment\";\n  } else if (c !== undefined) {\n    this.state = \"path\";\n    if (c !== p(\"/\")) {\n      --this.pointer;\n    }\n  } else if (this.stateOverride && this.url.host === null) {\n    this.url.path.push(\"\");\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\n  if (isNaN(c) || c === p(\"/\") || isSpecial(this.url) && c === p(\"\\\\\") || !this.stateOverride && (c === p(\"?\") || c === p(\"#\"))) {\n    if (isSpecial(this.url) && c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    if (isDoubleDot(this.buffer)) {\n      shortenPath(this.url);\n      if (c !== p(\"/\") && !(isSpecial(this.url) && c === p(\"\\\\\"))) {\n        this.url.path.push(\"\");\n      }\n    } else if (isSingleDot(this.buffer) && c !== p(\"/\") && !(isSpecial(this.url) && c === p(\"\\\\\"))) {\n      this.url.path.push(\"\");\n    } else if (!isSingleDot(this.buffer)) {\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\n        this.buffer = \"\".concat(this.buffer[0], \":\");\n      }\n      this.url.path.push(this.buffer);\n    }\n    this.buffer = \"\";\n    if (c === p(\"?\")) {\n      this.url.query = \"\";\n      this.state = \"query\";\n    }\n    if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    }\n  } else {\n    // TODO: If c is not a URL code point and not \"%\", parse error.\n\n    if (c === p(\"%\") && (!infra.isASCIIHex(this.input[this.pointer + 1]) || !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n    this.buffer += utf8PercentEncodeCodePoint(c, isPathPercentEncode);\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse opaque path\"] = function parseOpaquePath(c) {\n  if (c === p(\"?\")) {\n    this.url.query = \"\";\n    this.state = \"query\";\n  } else if (c === p(\"#\")) {\n    this.url.fragment = \"\";\n    this.state = \"fragment\";\n  } else {\n    // TODO: Add: not a URL code point\n    if (!isNaN(c) && c !== p(\"%\")) {\n      this.parseError = true;\n    }\n    if (c === p(\"%\") && (!infra.isASCIIHex(this.input[this.pointer + 1]) || !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n    if (!isNaN(c)) {\n      this.url.path += utf8PercentEncodeCodePoint(c, isC0ControlPercentEncode);\n    }\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\n  if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\n    this.encodingOverride = \"utf-8\";\n  }\n  if (!this.stateOverride && c === p(\"#\") || isNaN(c)) {\n    var queryPercentEncodePredicate = isSpecial(this.url) ? isSpecialQueryPercentEncode : isQueryPercentEncode;\n    this.url.query += utf8PercentEncodeString(this.buffer, queryPercentEncodePredicate);\n    this.buffer = \"\";\n    if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    }\n  } else if (!isNaN(c)) {\n    // TODO: If c is not a URL code point and not \"%\", parse error.\n\n    if (c === p(\"%\") && (!infra.isASCIIHex(this.input[this.pointer + 1]) || !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n    this.buffer += cStr;\n  }\n  return true;\n};\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\n  if (!isNaN(c)) {\n    // TODO: If c is not a URL code point and not \"%\", parse error.\n    if (c === p(\"%\") && (!infra.isASCIIHex(this.input[this.pointer + 1]) || !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n    this.url.fragment += utf8PercentEncodeCodePoint(c, isFragmentPercentEncode);\n  }\n  return true;\n};\nfunction serializeURL(url, excludeFragment) {\n  var output = \"\".concat(url.scheme, \":\");\n  if (url.host !== null) {\n    output += \"//\";\n    if (url.username !== \"\" || url.password !== \"\") {\n      output += url.username;\n      if (url.password !== \"\") {\n        output += \":\".concat(url.password);\n      }\n      output += \"@\";\n    }\n    output += serializeHost(url.host);\n    if (url.port !== null) {\n      output += \":\".concat(url.port);\n    }\n  }\n  if (url.host === null && !hasAnOpaquePath(url) && url.path.length > 1 && url.path[0] === \"\") {\n    output += \"/.\";\n  }\n  output += serializePath(url);\n  if (url.query !== null) {\n    output += \"?\".concat(url.query);\n  }\n  if (!excludeFragment && url.fragment !== null) {\n    output += \"#\".concat(url.fragment);\n  }\n  return output;\n}\nfunction serializeOrigin(tuple) {\n  var result = \"\".concat(tuple.scheme, \"://\");\n  result += serializeHost(tuple.host);\n  if (tuple.port !== null) {\n    result += \":\".concat(tuple.port);\n  }\n  return result;\n}\nfunction serializePath(url) {\n  if (hasAnOpaquePath(url)) {\n    return url.path;\n  }\n  var output = \"\";\n  var _iterator2 = _createForOfIteratorHelper(url.path),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var segment = _step2.value;\n      output += \"/\".concat(segment);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return output;\n}\nmodule.exports.serializeURL = serializeURL;\nmodule.exports.serializePath = serializePath;\nmodule.exports.serializeURLOrigin = function (url) {\n  // https://url.spec.whatwg.org/#concept-url-origin\n  switch (url.scheme) {\n    case \"blob\":\n      try {\n        return module.exports.serializeURLOrigin(module.exports.parseURL(serializePath(url)));\n      } catch (e) {\n        // serializing an opaque origin returns \"null\"\n        return \"null\";\n      }\n    case \"ftp\":\n    case \"http\":\n    case \"https\":\n    case \"ws\":\n    case \"wss\":\n      return serializeOrigin({\n        scheme: url.scheme,\n        host: url.host,\n        port: url.port\n      });\n    case \"file\":\n      // The spec says:\n      // > Unfortunate as it is, this is left as an exercise to the reader. When in doubt, return a new opaque origin.\n      // Browsers tested so far:\n      // - Chrome says \"file://\", but treats file: URLs as cross-origin for most (all?) purposes; see e.g.\n      //   https://bugs.chromium.org/p/chromium/issues/detail?id=37586\n      // - Firefox says \"null\", but treats file: URLs as same-origin sometimes based on directory stuff; see\n      //   https://developer.mozilla.org/en-US/docs/Archive/Misc_top_level/Same-origin_policy_for_file:_URIs\n      return \"null\";\n    default:\n      // serializing an opaque origin returns \"null\"\n      return \"null\";\n  }\n};\nmodule.exports.basicURLParse = function (input, options) {\n  if (options === undefined) {\n    options = {};\n  }\n  var usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\n  if (usm.failure) {\n    return null;\n  }\n  return usm.url;\n};\nmodule.exports.setTheUsername = function (url, username) {\n  url.username = utf8PercentEncodeString(username, isUserinfoPercentEncode);\n};\nmodule.exports.setThePassword = function (url, password) {\n  url.password = utf8PercentEncodeString(password, isUserinfoPercentEncode);\n};\nmodule.exports.serializeHost = serializeHost;\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\nmodule.exports.hasAnOpaquePath = hasAnOpaquePath;\nmodule.exports.serializeInteger = function (integer) {\n  return String(integer);\n};\nmodule.exports.parseURL = function (input, options) {\n  if (options === undefined) {\n    options = {};\n  }\n\n  // We don't handle blobs, so this just delegates:\n  return module.exports.basicURLParse(input, {\n    baseURL: options.baseURL,\n    encodingOverride: options.encodingOverride\n  });\n};","map":{"version":3,"names":["_createForOfIteratorHelper","require","default","_toConsumableArray","tr46","infra","_require","utf8DecodeWithoutBOM","_require2","percentDecodeString","utf8PercentEncodeCodePoint","utf8PercentEncodeString","isC0ControlPercentEncode","isFragmentPercentEncode","isQueryPercentEncode","isSpecialQueryPercentEncode","isPathPercentEncode","isUserinfoPercentEncode","p","char","codePointAt","specialSchemes","ftp","file","http","https","ws","wss","failure","Symbol","countSymbols","str","length","at","input","idx","c","isNaN","undefined","String","fromCodePoint","isSingleDot","buffer","toLowerCase","isDoubleDot","isWindowsDriveLetterCodePoints","cp1","cp2","isASCIIAlpha","isWindowsDriveLetterString","string","isNormalizedWindowsDriveLetterString","containsForbiddenHostCodePoint","search","containsForbiddenHostCodePointExcludingPercent","isSpecialScheme","scheme","isSpecial","url","isNotSpecial","defaultPort","parseIPv4Number","R","charAt","substring","regex","test","parseInt","parseIPv4","parts","split","pop","numbers","_iterator","_step","s","n","done","part","value","push","err","e","f","i","Math","pow","ipv4","counter","_i","_numbers","serializeIPv4","address","output","concat","floor","parseIPv6","pieceIndex","compress","pointer","Array","from","isASCIIHex","numbersSeen","ipv4Piece","isASCIIDigit","number","swaps","temp","serializeIPv6","findLongestZeroSequence","ignore0","separator","toString","parseHost","isNotSpecialArg","arguments","parseOpaqueHost","domain","asciiDomain","domainToASCII","endsInANumber","last","arr","maxIdx","maxLen","currStart","currLen","serializeHost","host","beStrict","result","toASCII","checkBidi","checkHyphens","checkJoiners","useSTD3ASCIIRules","verifyDNSLength","trimControlChars","replace","trimTabAndNewline","shortenPath","path","isNormalizedWindowsDriveLetter","includesCredentials","username","password","cannotHaveAUsernamePasswordPort","hasAnOpaquePath","URLStateMachine","base","encodingOverride","stateOverride","parseError","port","query","fragment","res","state","atFlag","arrFlag","passwordTokenSeenFlag","cStr","ret","prototype","parseSchemeStart","parseScheme","isASCIIAlphanumeric","parseNoScheme","parseSpecialRelativeOrAuthority","parsePathOrAuthority","parseRelative","slice","parseRelativeSlash","parseSpecialAuthoritySlashes","parseSpecialAuthorityIgnoreSlashes","parseAuthority","len","codePoint","encodedCodePoints","parseHostName","parsePort","fileOtherwiseCodePoints","Set","startsWithWindowsDriveLetter","has","parseFile","parseFileSlash","parseFileHost","parsePathStart","parsePath","parseOpaquePath","parseQuery","queryPercentEncodePredicate","parseFragment","serializeURL","excludeFragment","serializePath","serializeOrigin","tuple","_iterator2","_step2","segment","module","exports","serializeURLOrigin","parseURL","basicURLParse","options","usm","baseURL","setTheUsername","setThePassword","serializeInteger","integer"],"sources":["/home/salman/Documents/GitHub/FakeShop/node_modules/mongodb-connection-string-url/node_modules/whatwg-url/lib/url-state-machine.js"],"sourcesContent":["\"use strict\";\nconst tr46 = require(\"tr46\");\n\nconst infra = require(\"./infra\");\nconst { utf8DecodeWithoutBOM } = require(\"./encoding\");\nconst { percentDecodeString, utf8PercentEncodeCodePoint, utf8PercentEncodeString, isC0ControlPercentEncode,\n  isFragmentPercentEncode, isQueryPercentEncode, isSpecialQueryPercentEncode, isPathPercentEncode,\n  isUserinfoPercentEncode } = require(\"./percent-encoding\");\n\nfunction p(char) {\n  return char.codePointAt(0);\n}\n\nconst specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nconst failure = Symbol(\"failure\");\n\nfunction countSymbols(str) {\n  return [...str].length;\n}\n\nfunction at(input, idx) {\n  const c = input[idx];\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\n}\n\nfunction isSingleDot(buffer) {\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\n}\n\nfunction isDoubleDot(buffer) {\n  buffer = buffer.toLowerCase();\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\n}\n\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\n  return infra.isASCIIAlpha(cp1) && (cp2 === p(\":\") || cp2 === p(\"|\"));\n}\n\nfunction isWindowsDriveLetterString(string) {\n  return string.length === 2 && infra.isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\n}\n\nfunction isNormalizedWindowsDriveLetterString(string) {\n  return string.length === 2 && infra.isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\n}\n\nfunction containsForbiddenHostCodePoint(string) {\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|<|>|\\?|@|\\[|\\\\|\\]|\\^|\\|/u) !== -1;\n}\n\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|<|>|\\?|@|\\[|\\\\|\\]|\\^|\\|/u) !== -1;\n}\n\nfunction isSpecialScheme(scheme) {\n  return specialSchemes[scheme] !== undefined;\n}\n\nfunction isSpecial(url) {\n  return isSpecialScheme(url.scheme);\n}\n\nfunction isNotSpecial(url) {\n  return !isSpecialScheme(url.scheme);\n}\n\nfunction defaultPort(scheme) {\n  return specialSchemes[scheme];\n}\n\nfunction parseIPv4Number(input) {\n  if (input === \"\") {\n    return failure;\n  }\n\n  let R = 10;\n\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\n    input = input.substring(2);\n    R = 16;\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\n    input = input.substring(1);\n    R = 8;\n  }\n\n  if (input === \"\") {\n    return 0;\n  }\n\n  let regex = /[^0-7]/u;\n  if (R === 10) {\n    regex = /[^0-9]/u;\n  }\n  if (R === 16) {\n    regex = /[^0-9A-Fa-f]/u;\n  }\n\n  if (regex.test(input)) {\n    return failure;\n  }\n\n  return parseInt(input, R);\n}\n\nfunction parseIPv4(input) {\n  const parts = input.split(\".\");\n  if (parts[parts.length - 1] === \"\") {\n    if (parts.length > 1) {\n      parts.pop();\n    }\n  }\n\n  if (parts.length > 4) {\n    return failure;\n  }\n\n  const numbers = [];\n  for (const part of parts) {\n    const n = parseIPv4Number(part);\n    if (n === failure) {\n      return failure;\n    }\n\n    numbers.push(n);\n  }\n\n  for (let i = 0; i < numbers.length - 1; ++i) {\n    if (numbers[i] > 255) {\n      return failure;\n    }\n  }\n  if (numbers[numbers.length - 1] >= 256 ** (5 - numbers.length)) {\n    return failure;\n  }\n\n  let ipv4 = numbers.pop();\n  let counter = 0;\n\n  for (const n of numbers) {\n    ipv4 += n * 256 ** (3 - counter);\n    ++counter;\n  }\n\n  return ipv4;\n}\n\nfunction serializeIPv4(address) {\n  let output = \"\";\n  let n = address;\n\n  for (let i = 1; i <= 4; ++i) {\n    output = String(n % 256) + output;\n    if (i !== 4) {\n      output = `.${output}`;\n    }\n    n = Math.floor(n / 256);\n  }\n\n  return output;\n}\n\nfunction parseIPv6(input) {\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\n  let pieceIndex = 0;\n  let compress = null;\n  let pointer = 0;\n\n  input = Array.from(input, c => c.codePointAt(0));\n\n  if (input[pointer] === p(\":\")) {\n    if (input[pointer + 1] !== p(\":\")) {\n      return failure;\n    }\n\n    pointer += 2;\n    ++pieceIndex;\n    compress = pieceIndex;\n  }\n\n  while (pointer < input.length) {\n    if (pieceIndex === 8) {\n      return failure;\n    }\n\n    if (input[pointer] === p(\":\")) {\n      if (compress !== null) {\n        return failure;\n      }\n      ++pointer;\n      ++pieceIndex;\n      compress = pieceIndex;\n      continue;\n    }\n\n    let value = 0;\n    let length = 0;\n\n    while (length < 4 && infra.isASCIIHex(input[pointer])) {\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\n      ++pointer;\n      ++length;\n    }\n\n    if (input[pointer] === p(\".\")) {\n      if (length === 0) {\n        return failure;\n      }\n\n      pointer -= length;\n\n      if (pieceIndex > 6) {\n        return failure;\n      }\n\n      let numbersSeen = 0;\n\n      while (input[pointer] !== undefined) {\n        let ipv4Piece = null;\n\n        if (numbersSeen > 0) {\n          if (input[pointer] === p(\".\") && numbersSeen < 4) {\n            ++pointer;\n          } else {\n            return failure;\n          }\n        }\n\n        if (!infra.isASCIIDigit(input[pointer])) {\n          return failure;\n        }\n\n        while (infra.isASCIIDigit(input[pointer])) {\n          const number = parseInt(at(input, pointer));\n          if (ipv4Piece === null) {\n            ipv4Piece = number;\n          } else if (ipv4Piece === 0) {\n            return failure;\n          } else {\n            ipv4Piece = ipv4Piece * 10 + number;\n          }\n          if (ipv4Piece > 255) {\n            return failure;\n          }\n          ++pointer;\n        }\n\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\n\n        ++numbersSeen;\n\n        if (numbersSeen === 2 || numbersSeen === 4) {\n          ++pieceIndex;\n        }\n      }\n\n      if (numbersSeen !== 4) {\n        return failure;\n      }\n\n      break;\n    } else if (input[pointer] === p(\":\")) {\n      ++pointer;\n      if (input[pointer] === undefined) {\n        return failure;\n      }\n    } else if (input[pointer] !== undefined) {\n      return failure;\n    }\n\n    address[pieceIndex] = value;\n    ++pieceIndex;\n  }\n\n  if (compress !== null) {\n    let swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex !== 0 && swaps > 0) {\n      const temp = address[compress + swaps - 1];\n      address[compress + swaps - 1] = address[pieceIndex];\n      address[pieceIndex] = temp;\n      --pieceIndex;\n      --swaps;\n    }\n  } else if (compress === null && pieceIndex !== 8) {\n    return failure;\n  }\n\n  return address;\n}\n\nfunction serializeIPv6(address) {\n  let output = \"\";\n  const compress = findLongestZeroSequence(address);\n  let ignore0 = false;\n\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\n    if (ignore0 && address[pieceIndex] === 0) {\n      continue;\n    } else if (ignore0) {\n      ignore0 = false;\n    }\n\n    if (compress === pieceIndex) {\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\n      output += separator;\n      ignore0 = true;\n      continue;\n    }\n\n    output += address[pieceIndex].toString(16);\n\n    if (pieceIndex !== 7) {\n      output += \":\";\n    }\n  }\n\n  return output;\n}\n\nfunction parseHost(input, isNotSpecialArg = false) {\n  if (input[0] === \"[\") {\n    if (input[input.length - 1] !== \"]\") {\n      return failure;\n    }\n\n    return parseIPv6(input.substring(1, input.length - 1));\n  }\n\n  if (isNotSpecialArg) {\n    return parseOpaqueHost(input);\n  }\n\n  const domain = utf8DecodeWithoutBOM(percentDecodeString(input));\n  const asciiDomain = domainToASCII(domain);\n  if (asciiDomain === failure) {\n    return failure;\n  }\n\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\n    return failure;\n  }\n\n  if (endsInANumber(asciiDomain)) {\n    return parseIPv4(asciiDomain);\n  }\n\n  return asciiDomain;\n}\n\nfunction endsInANumber(input) {\n  const parts = input.split(\".\");\n  if (parts[parts.length - 1] === \"\") {\n    if (parts.length === 1) {\n      return false;\n    }\n    parts.pop();\n  }\n\n  const last = parts[parts.length - 1];\n  if (parseIPv4Number(last) !== failure) {\n    return true;\n  }\n\n  if (/^[0-9]+$/u.test(last)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction parseOpaqueHost(input) {\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\n    return failure;\n  }\n\n  return utf8PercentEncodeString(input, isC0ControlPercentEncode);\n}\n\nfunction findLongestZeroSequence(arr) {\n  let maxIdx = null;\n  let maxLen = 1; // only find elements > 1\n  let currStart = null;\n  let currLen = 0;\n\n  for (let i = 0; i < arr.length; ++i) {\n    if (arr[i] !== 0) {\n      if (currLen > maxLen) {\n        maxIdx = currStart;\n        maxLen = currLen;\n      }\n\n      currStart = null;\n      currLen = 0;\n    } else {\n      if (currStart === null) {\n        currStart = i;\n      }\n      ++currLen;\n    }\n  }\n\n  // if trailing zeros\n  if (currLen > maxLen) {\n    return currStart;\n  }\n\n  return maxIdx;\n}\n\nfunction serializeHost(host) {\n  if (typeof host === \"number\") {\n    return serializeIPv4(host);\n  }\n\n  // IPv6 serializer\n  if (host instanceof Array) {\n    return `[${serializeIPv6(host)}]`;\n  }\n\n  return host;\n}\n\nfunction domainToASCII(domain, beStrict = false) {\n  const result = tr46.toASCII(domain, {\n    checkBidi: true,\n    checkHyphens: false,\n    checkJoiners: true,\n    useSTD3ASCIIRules: beStrict,\n    verifyDNSLength: beStrict\n  });\n  if (result === null || result === \"\") {\n    return failure;\n  }\n  return result;\n}\n\nfunction trimControlChars(url) {\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/ug, \"\");\n}\n\nfunction trimTabAndNewline(url) {\n  return url.replace(/\\u0009|\\u000A|\\u000D/ug, \"\");\n}\n\nfunction shortenPath(url) {\n  const { path } = url;\n  if (path.length === 0) {\n    return;\n  }\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\n    return;\n  }\n\n  path.pop();\n}\n\nfunction includesCredentials(url) {\n  return url.username !== \"\" || url.password !== \"\";\n}\n\nfunction cannotHaveAUsernamePasswordPort(url) {\n  return url.host === null || url.host === \"\" || hasAnOpaquePath(url) || url.scheme === \"file\";\n}\n\nfunction hasAnOpaquePath(url) {\n  return typeof url.path === \"string\";\n}\n\nfunction isNormalizedWindowsDriveLetter(string) {\n  return /^[A-Za-z]:$/u.test(string);\n}\n\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\n  this.pointer = 0;\n  this.input = input;\n  this.base = base || null;\n  this.encodingOverride = encodingOverride || \"utf-8\";\n  this.stateOverride = stateOverride;\n  this.url = url;\n  this.failure = false;\n  this.parseError = false;\n\n  if (!this.url) {\n    this.url = {\n      scheme: \"\",\n      username: \"\",\n      password: \"\",\n      host: null,\n      port: null,\n      path: [],\n      query: null,\n      fragment: null\n    };\n\n    const res = trimControlChars(this.input);\n    if (res !== this.input) {\n      this.parseError = true;\n    }\n    this.input = res;\n  }\n\n  const res = trimTabAndNewline(this.input);\n  if (res !== this.input) {\n    this.parseError = true;\n  }\n  this.input = res;\n\n  this.state = stateOverride || \"scheme start\";\n\n  this.buffer = \"\";\n  this.atFlag = false;\n  this.arrFlag = false;\n  this.passwordTokenSeenFlag = false;\n\n  this.input = Array.from(this.input, c => c.codePointAt(0));\n\n  for (; this.pointer <= this.input.length; ++this.pointer) {\n    const c = this.input[this.pointer];\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\n\n    // exec state machine\n    const ret = this[`parse ${this.state}`](c, cStr);\n    if (!ret) {\n      break; // terminate algorithm\n    } else if (ret === failure) {\n      this.failure = true;\n      break;\n    }\n  }\n}\n\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\n  if (infra.isASCIIAlpha(c)) {\n    this.buffer += cStr.toLowerCase();\n    this.state = \"scheme\";\n  } else if (!this.stateOverride) {\n    this.state = \"no scheme\";\n    --this.pointer;\n  } else {\n    this.parseError = true;\n    return failure;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\n  if (infra.isASCIIAlphanumeric(c) || c === p(\"+\") || c === p(\"-\") || c === p(\".\")) {\n    this.buffer += cStr.toLowerCase();\n  } else if (c === p(\":\")) {\n    if (this.stateOverride) {\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\n        return false;\n      }\n\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\n        return false;\n      }\n\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\n        return false;\n      }\n\n      if (this.url.scheme === \"file\" && this.url.host === \"\") {\n        return false;\n      }\n    }\n    this.url.scheme = this.buffer;\n    if (this.stateOverride) {\n      if (this.url.port === defaultPort(this.url.scheme)) {\n        this.url.port = null;\n      }\n      return false;\n    }\n    this.buffer = \"\";\n    if (this.url.scheme === \"file\") {\n      if (this.input[this.pointer + 1] !== p(\"/\") || this.input[this.pointer + 2] !== p(\"/\")) {\n        this.parseError = true;\n      }\n      this.state = \"file\";\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\n      this.state = \"special relative or authority\";\n    } else if (isSpecial(this.url)) {\n      this.state = \"special authority slashes\";\n    } else if (this.input[this.pointer + 1] === p(\"/\")) {\n      this.state = \"path or authority\";\n      ++this.pointer;\n    } else {\n      this.url.path = \"\";\n      this.state = \"opaque path\";\n    }\n  } else if (!this.stateOverride) {\n    this.buffer = \"\";\n    this.state = \"no scheme\";\n    this.pointer = -1;\n  } else {\n    this.parseError = true;\n    return failure;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\n  if (this.base === null || (hasAnOpaquePath(this.base) && c !== p(\"#\"))) {\n    return failure;\n  } else if (hasAnOpaquePath(this.base) && c === p(\"#\")) {\n    this.url.scheme = this.base.scheme;\n    this.url.path = this.base.path;\n    this.url.query = this.base.query;\n    this.url.fragment = \"\";\n    this.state = \"fragment\";\n  } else if (this.base.scheme === \"file\") {\n    this.state = \"file\";\n    --this.pointer;\n  } else {\n    this.state = \"relative\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\n  if (c === p(\"/\") && this.input[this.pointer + 1] === p(\"/\")) {\n    this.state = \"special authority ignore slashes\";\n    ++this.pointer;\n  } else {\n    this.parseError = true;\n    this.state = \"relative\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\n  if (c === p(\"/\")) {\n    this.state = \"authority\";\n  } else {\n    this.state = \"path\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\n  this.url.scheme = this.base.scheme;\n  if (c === p(\"/\")) {\n    this.state = \"relative slash\";\n  } else if (isSpecial(this.url) && c === p(\"\\\\\")) {\n    this.parseError = true;\n    this.state = \"relative slash\";\n  } else {\n    this.url.username = this.base.username;\n    this.url.password = this.base.password;\n    this.url.host = this.base.host;\n    this.url.port = this.base.port;\n    this.url.path = this.base.path.slice();\n    this.url.query = this.base.query;\n    if (c === p(\"?\")) {\n      this.url.query = \"\";\n      this.state = \"query\";\n    } else if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    } else if (!isNaN(c)) {\n      this.url.query = null;\n      this.url.path.pop();\n      this.state = \"path\";\n      --this.pointer;\n    }\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\n  if (isSpecial(this.url) && (c === p(\"/\") || c === p(\"\\\\\"))) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"special authority ignore slashes\";\n  } else if (c === p(\"/\")) {\n    this.state = \"authority\";\n  } else {\n    this.url.username = this.base.username;\n    this.url.password = this.base.password;\n    this.url.host = this.base.host;\n    this.url.port = this.base.port;\n    this.state = \"path\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\n  if (c === p(\"/\") && this.input[this.pointer + 1] === p(\"/\")) {\n    this.state = \"special authority ignore slashes\";\n    ++this.pointer;\n  } else {\n    this.parseError = true;\n    this.state = \"special authority ignore slashes\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\n  if (c !== p(\"/\") && c !== p(\"\\\\\")) {\n    this.state = \"authority\";\n    --this.pointer;\n  } else {\n    this.parseError = true;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\n  if (c === p(\"@\")) {\n    this.parseError = true;\n    if (this.atFlag) {\n      this.buffer = `%40${this.buffer}`;\n    }\n    this.atFlag = true;\n\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\n    const len = countSymbols(this.buffer);\n    for (let pointer = 0; pointer < len; ++pointer) {\n      const codePoint = this.buffer.codePointAt(pointer);\n\n      if (codePoint === p(\":\") && !this.passwordTokenSeenFlag) {\n        this.passwordTokenSeenFlag = true;\n        continue;\n      }\n      const encodedCodePoints = utf8PercentEncodeCodePoint(codePoint, isUserinfoPercentEncode);\n      if (this.passwordTokenSeenFlag) {\n        this.url.password += encodedCodePoints;\n      } else {\n        this.url.username += encodedCodePoints;\n      }\n    }\n    this.buffer = \"\";\n  } else if (isNaN(c) || c === p(\"/\") || c === p(\"?\") || c === p(\"#\") ||\n             (isSpecial(this.url) && c === p(\"\\\\\"))) {\n    if (this.atFlag && this.buffer === \"\") {\n      this.parseError = true;\n      return failure;\n    }\n    this.pointer -= countSymbols(this.buffer) + 1;\n    this.buffer = \"\";\n    this.state = \"host\";\n  } else {\n    this.buffer += cStr;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse hostname\"] =\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\n  if (this.stateOverride && this.url.scheme === \"file\") {\n    --this.pointer;\n    this.state = \"file host\";\n  } else if (c === p(\":\") && !this.arrFlag) {\n    if (this.buffer === \"\") {\n      this.parseError = true;\n      return failure;\n    }\n\n    if (this.stateOverride === \"hostname\") {\n      return false;\n    }\n\n    const host = parseHost(this.buffer, isNotSpecial(this.url));\n    if (host === failure) {\n      return failure;\n    }\n\n    this.url.host = host;\n    this.buffer = \"\";\n    this.state = \"port\";\n  } else if (isNaN(c) || c === p(\"/\") || c === p(\"?\") || c === p(\"#\") ||\n             (isSpecial(this.url) && c === p(\"\\\\\"))) {\n    --this.pointer;\n    if (isSpecial(this.url) && this.buffer === \"\") {\n      this.parseError = true;\n      return failure;\n    } else if (this.stateOverride && this.buffer === \"\" &&\n               (includesCredentials(this.url) || this.url.port !== null)) {\n      this.parseError = true;\n      return false;\n    }\n\n    const host = parseHost(this.buffer, isNotSpecial(this.url));\n    if (host === failure) {\n      return failure;\n    }\n\n    this.url.host = host;\n    this.buffer = \"\";\n    this.state = \"path start\";\n    if (this.stateOverride) {\n      return false;\n    }\n  } else {\n    if (c === p(\"[\")) {\n      this.arrFlag = true;\n    } else if (c === p(\"]\")) {\n      this.arrFlag = false;\n    }\n    this.buffer += cStr;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\n  if (infra.isASCIIDigit(c)) {\n    this.buffer += cStr;\n  } else if (isNaN(c) || c === p(\"/\") || c === p(\"?\") || c === p(\"#\") ||\n             (isSpecial(this.url) && c === p(\"\\\\\")) ||\n             this.stateOverride) {\n    if (this.buffer !== \"\") {\n      const port = parseInt(this.buffer);\n      if (port > 2 ** 16 - 1) {\n        this.parseError = true;\n        return failure;\n      }\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\n      this.buffer = \"\";\n    }\n    if (this.stateOverride) {\n      return false;\n    }\n    this.state = \"path start\";\n    --this.pointer;\n  } else {\n    this.parseError = true;\n    return failure;\n  }\n\n  return true;\n};\n\nconst fileOtherwiseCodePoints = new Set([p(\"/\"), p(\"\\\\\"), p(\"?\"), p(\"#\")]);\n\nfunction startsWithWindowsDriveLetter(input, pointer) {\n  const length = input.length - pointer;\n  return length >= 2 &&\n    isWindowsDriveLetterCodePoints(input[pointer], input[pointer + 1]) &&\n    (length === 2 || fileOtherwiseCodePoints.has(input[pointer + 2]));\n}\n\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\n  this.url.scheme = \"file\";\n  this.url.host = \"\";\n\n  if (c === p(\"/\") || c === p(\"\\\\\")) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"file slash\";\n  } else if (this.base !== null && this.base.scheme === \"file\") {\n    this.url.host = this.base.host;\n    this.url.path = this.base.path.slice();\n    this.url.query = this.base.query;\n    if (c === p(\"?\")) {\n      this.url.query = \"\";\n      this.state = \"query\";\n    } else if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    } else if (!isNaN(c)) {\n      this.url.query = null;\n      if (!startsWithWindowsDriveLetter(this.input, this.pointer)) {\n        shortenPath(this.url);\n      } else {\n        this.parseError = true;\n        this.url.path = [];\n      }\n\n      this.state = \"path\";\n      --this.pointer;\n    }\n  } else {\n    this.state = \"path\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\n  if (c === p(\"/\") || c === p(\"\\\\\")) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"file host\";\n  } else {\n    if (this.base !== null && this.base.scheme === \"file\") {\n      if (!startsWithWindowsDriveLetter(this.input, this.pointer) &&\n          isNormalizedWindowsDriveLetterString(this.base.path[0])) {\n        this.url.path.push(this.base.path[0]);\n      }\n      this.url.host = this.base.host;\n    }\n    this.state = \"path\";\n    --this.pointer;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\n  if (isNaN(c) || c === p(\"/\") || c === p(\"\\\\\") || c === p(\"?\") || c === p(\"#\")) {\n    --this.pointer;\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\n      this.parseError = true;\n      this.state = \"path\";\n    } else if (this.buffer === \"\") {\n      this.url.host = \"\";\n      if (this.stateOverride) {\n        return false;\n      }\n      this.state = \"path start\";\n    } else {\n      let host = parseHost(this.buffer, isNotSpecial(this.url));\n      if (host === failure) {\n        return failure;\n      }\n      if (host === \"localhost\") {\n        host = \"\";\n      }\n      this.url.host = host;\n\n      if (this.stateOverride) {\n        return false;\n      }\n\n      this.buffer = \"\";\n      this.state = \"path start\";\n    }\n  } else {\n    this.buffer += cStr;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\n  if (isSpecial(this.url)) {\n    if (c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n    this.state = \"path\";\n\n    if (c !== p(\"/\") && c !== p(\"\\\\\")) {\n      --this.pointer;\n    }\n  } else if (!this.stateOverride && c === p(\"?\")) {\n    this.url.query = \"\";\n    this.state = \"query\";\n  } else if (!this.stateOverride && c === p(\"#\")) {\n    this.url.fragment = \"\";\n    this.state = \"fragment\";\n  } else if (c !== undefined) {\n    this.state = \"path\";\n    if (c !== p(\"/\")) {\n      --this.pointer;\n    }\n  } else if (this.stateOverride && this.url.host === null) {\n    this.url.path.push(\"\");\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\n  if (isNaN(c) || c === p(\"/\") || (isSpecial(this.url) && c === p(\"\\\\\")) ||\n      (!this.stateOverride && (c === p(\"?\") || c === p(\"#\")))) {\n    if (isSpecial(this.url) && c === p(\"\\\\\")) {\n      this.parseError = true;\n    }\n\n    if (isDoubleDot(this.buffer)) {\n      shortenPath(this.url);\n      if (c !== p(\"/\") && !(isSpecial(this.url) && c === p(\"\\\\\"))) {\n        this.url.path.push(\"\");\n      }\n    } else if (isSingleDot(this.buffer) && c !== p(\"/\") &&\n               !(isSpecial(this.url) && c === p(\"\\\\\"))) {\n      this.url.path.push(\"\");\n    } else if (!isSingleDot(this.buffer)) {\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\n        this.buffer = `${this.buffer[0]}:`;\n      }\n      this.url.path.push(this.buffer);\n    }\n    this.buffer = \"\";\n    if (c === p(\"?\")) {\n      this.url.query = \"\";\n      this.state = \"query\";\n    }\n    if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    }\n  } else {\n    // TODO: If c is not a URL code point and not \"%\", parse error.\n\n    if (c === p(\"%\") &&\n      (!infra.isASCIIHex(this.input[this.pointer + 1]) ||\n        !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n\n    this.buffer += utf8PercentEncodeCodePoint(c, isPathPercentEncode);\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse opaque path\"] = function parseOpaquePath(c) {\n  if (c === p(\"?\")) {\n    this.url.query = \"\";\n    this.state = \"query\";\n  } else if (c === p(\"#\")) {\n    this.url.fragment = \"\";\n    this.state = \"fragment\";\n  } else {\n    // TODO: Add: not a URL code point\n    if (!isNaN(c) && c !== p(\"%\")) {\n      this.parseError = true;\n    }\n\n    if (c === p(\"%\") &&\n        (!infra.isASCIIHex(this.input[this.pointer + 1]) ||\n         !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n\n    if (!isNaN(c)) {\n      this.url.path += utf8PercentEncodeCodePoint(c, isC0ControlPercentEncode);\n    }\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\n  if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\n    this.encodingOverride = \"utf-8\";\n  }\n\n  if ((!this.stateOverride && c === p(\"#\")) || isNaN(c)) {\n    const queryPercentEncodePredicate = isSpecial(this.url) ? isSpecialQueryPercentEncode : isQueryPercentEncode;\n    this.url.query += utf8PercentEncodeString(this.buffer, queryPercentEncodePredicate);\n\n    this.buffer = \"\";\n\n    if (c === p(\"#\")) {\n      this.url.fragment = \"\";\n      this.state = \"fragment\";\n    }\n  } else if (!isNaN(c)) {\n    // TODO: If c is not a URL code point and not \"%\", parse error.\n\n    if (c === p(\"%\") &&\n      (!infra.isASCIIHex(this.input[this.pointer + 1]) ||\n        !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n\n    this.buffer += cStr;\n  }\n\n  return true;\n};\n\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\n  if (!isNaN(c)) {\n    // TODO: If c is not a URL code point and not \"%\", parse error.\n    if (c === p(\"%\") &&\n      (!infra.isASCIIHex(this.input[this.pointer + 1]) ||\n        !infra.isASCIIHex(this.input[this.pointer + 2]))) {\n      this.parseError = true;\n    }\n\n    this.url.fragment += utf8PercentEncodeCodePoint(c, isFragmentPercentEncode);\n  }\n\n  return true;\n};\n\nfunction serializeURL(url, excludeFragment) {\n  let output = `${url.scheme}:`;\n  if (url.host !== null) {\n    output += \"//\";\n\n    if (url.username !== \"\" || url.password !== \"\") {\n      output += url.username;\n      if (url.password !== \"\") {\n        output += `:${url.password}`;\n      }\n      output += \"@\";\n    }\n\n    output += serializeHost(url.host);\n\n    if (url.port !== null) {\n      output += `:${url.port}`;\n    }\n  }\n\n  if (url.host === null && !hasAnOpaquePath(url) && url.path.length > 1 && url.path[0] === \"\") {\n    output += \"/.\";\n  }\n  output += serializePath(url);\n\n  if (url.query !== null) {\n    output += `?${url.query}`;\n  }\n\n  if (!excludeFragment && url.fragment !== null) {\n    output += `#${url.fragment}`;\n  }\n\n  return output;\n}\n\nfunction serializeOrigin(tuple) {\n  let result = `${tuple.scheme}://`;\n  result += serializeHost(tuple.host);\n\n  if (tuple.port !== null) {\n    result += `:${tuple.port}`;\n  }\n\n  return result;\n}\n\nfunction serializePath(url) {\n  if (hasAnOpaquePath(url)) {\n    return url.path;\n  }\n\n  let output = \"\";\n  for (const segment of url.path) {\n    output += `/${segment}`;\n  }\n  return output;\n}\n\nmodule.exports.serializeURL = serializeURL;\n\nmodule.exports.serializePath = serializePath;\n\nmodule.exports.serializeURLOrigin = function (url) {\n  // https://url.spec.whatwg.org/#concept-url-origin\n  switch (url.scheme) {\n    case \"blob\":\n      try {\n        return module.exports.serializeURLOrigin(module.exports.parseURL(serializePath(url)));\n      } catch (e) {\n        // serializing an opaque origin returns \"null\"\n        return \"null\";\n      }\n    case \"ftp\":\n    case \"http\":\n    case \"https\":\n    case \"ws\":\n    case \"wss\":\n      return serializeOrigin({\n        scheme: url.scheme,\n        host: url.host,\n        port: url.port\n      });\n    case \"file\":\n      // The spec says:\n      // > Unfortunate as it is, this is left as an exercise to the reader. When in doubt, return a new opaque origin.\n      // Browsers tested so far:\n      // - Chrome says \"file://\", but treats file: URLs as cross-origin for most (all?) purposes; see e.g.\n      //   https://bugs.chromium.org/p/chromium/issues/detail?id=37586\n      // - Firefox says \"null\", but treats file: URLs as same-origin sometimes based on directory stuff; see\n      //   https://developer.mozilla.org/en-US/docs/Archive/Misc_top_level/Same-origin_policy_for_file:_URIs\n      return \"null\";\n    default:\n      // serializing an opaque origin returns \"null\"\n      return \"null\";\n  }\n};\n\nmodule.exports.basicURLParse = function (input, options) {\n  if (options === undefined) {\n    options = {};\n  }\n\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\n  if (usm.failure) {\n    return null;\n  }\n\n  return usm.url;\n};\n\nmodule.exports.setTheUsername = function (url, username) {\n  url.username = utf8PercentEncodeString(username, isUserinfoPercentEncode);\n};\n\nmodule.exports.setThePassword = function (url, password) {\n  url.password = utf8PercentEncodeString(password, isUserinfoPercentEncode);\n};\n\nmodule.exports.serializeHost = serializeHost;\n\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\n\nmodule.exports.hasAnOpaquePath = hasAnOpaquePath;\n\nmodule.exports.serializeInteger = function (integer) {\n  return String(integer);\n};\n\nmodule.exports.parseURL = function (input, options) {\n  if (options === undefined) {\n    options = {};\n  }\n\n  // We don't handle blobs, so this just delegates:\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}