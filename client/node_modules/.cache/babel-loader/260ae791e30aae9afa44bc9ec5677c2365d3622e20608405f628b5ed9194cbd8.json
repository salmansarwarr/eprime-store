{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _objectSpread = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _asyncToGenerator = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _get = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/get.js\").default;\nvar _getPrototypeOf = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\nvar _inherits = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/home/salman/Documents/GitHub/FakeShop/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateCollectionOperation = void 0;\nvar constants_1 = require(\"../cmap/wire_protocol/constants\");\nvar collection_1 = require(\"../collection\");\nvar error_1 = require(\"../error\");\nvar command_1 = require(\"./command\");\nvar indexes_1 = require(\"./indexes\");\nvar operation_1 = require(\"./operation\");\nvar ILLEGAL_COMMAND_FIELDS = new Set(['w', 'wtimeout', 'j', 'fsync', 'autoIndexId', 'pkFactory', 'raw', 'readPreference', 'session', 'readConcern', 'writeConcern', 'raw', 'fieldsAsRaw', 'useBigInt64', 'promoteLongs', 'promoteValues', 'promoteBuffers', 'bsonRegExp', 'serializeFunctions', 'ignoreUndefined', 'enableUtf8Validation']);\n/* @internal */\nvar INVALID_QE_VERSION = 'Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.';\n/** @internal */\nvar CreateCollectionOperation = /*#__PURE__*/function (_command_1$CommandOpe) {\n  _inherits(CreateCollectionOperation, _command_1$CommandOpe);\n  var _super = _createSuper(CreateCollectionOperation);\n  function CreateCollectionOperation(db, name) {\n    var _this;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, CreateCollectionOperation);\n    _this = _super.call(this, db, options);\n    _this.options = options;\n    _this.db = db;\n    _this.name = name;\n    return _this;\n  }\n  _createClass(CreateCollectionOperation, [{\n    key: \"executeCallback\",\n    value: function executeCallback(server, session, callback) {\n      var _this2 = this;\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _options$encryptedFie, _db$client$options$au;\n        var db, name, options, encryptedFields, _encryptedFields$escC, _encryptedFields$ecoc, escCollection, ecocCollection, _i, _arr, collectionName, createOp, coll, createIndexOp;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              db = _this2.db;\n              name = _this2.name;\n              options = _this2.options;\n              encryptedFields = (_options$encryptedFie = options.encryptedFields) !== null && _options$encryptedFie !== void 0 ? _options$encryptedFie : (_db$client$options$au = db.client.options.autoEncryption) === null || _db$client$options$au === void 0 || (_db$client$options$au = _db$client$options$au.encryptedFieldsMap) === null || _db$client$options$au === void 0 ? void 0 : _db$client$options$au[\"\".concat(db.databaseName, \".\").concat(name)];\n              if (!encryptedFields) {\n                _context.next = 19;\n                break;\n              }\n              if (!(!server.loadBalanced && server.description.maxWireVersion < constants_1.MIN_SUPPORTED_QE_WIRE_VERSION)) {\n                _context.next = 7;\n                break;\n              }\n              throw new error_1.MongoCompatibilityError(\"\".concat(INVALID_QE_VERSION, \" The minimum server version required is \").concat(constants_1.MIN_SUPPORTED_QE_SERVER_VERSION));\n            case 7:\n              // Create auxilliary collections for queryable encryption support.\n              escCollection = (_encryptedFields$escC = encryptedFields.escCollection) !== null && _encryptedFields$escC !== void 0 ? _encryptedFields$escC : \"enxcol_.\".concat(name, \".esc\");\n              ecocCollection = (_encryptedFields$ecoc = encryptedFields.ecocCollection) !== null && _encryptedFields$ecoc !== void 0 ? _encryptedFields$ecoc : \"enxcol_.\".concat(name, \".ecoc\");\n              _i = 0, _arr = [escCollection, ecocCollection];\n            case 10:\n              if (!(_i < _arr.length)) {\n                _context.next = 18;\n                break;\n              }\n              collectionName = _arr[_i];\n              createOp = new CreateCollectionOperation(db, collectionName, {\n                clusteredIndex: {\n                  key: {\n                    _id: 1\n                  },\n                  unique: true\n                }\n              });\n              _context.next = 15;\n              return createOp.executeWithoutEncryptedFieldsCheck(server, session);\n            case 15:\n              _i++;\n              _context.next = 10;\n              break;\n            case 18:\n              if (!options.encryptedFields) {\n                _this2.options = _objectSpread(_objectSpread({}, _this2.options), {}, {\n                  encryptedFields: encryptedFields\n                });\n              }\n            case 19:\n              _context.next = 21;\n              return _this2.executeWithoutEncryptedFieldsCheck(server, session);\n            case 21:\n              coll = _context.sent;\n              if (!encryptedFields) {\n                _context.next = 26;\n                break;\n              }\n              // Create the required index for queryable encryption support.\n              createIndexOp = new indexes_1.CreateIndexOperation(db, name, {\n                __safeContent__: 1\n              }, {});\n              _context.next = 26;\n              return createIndexOp.execute(server, session);\n            case 26:\n              return _context.abrupt(\"return\", coll);\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))().then(function (coll) {\n        return callback(undefined, coll);\n      }, function (err) {\n        return callback(err);\n      });\n    }\n  }, {\n    key: \"executeWithoutEncryptedFieldsCheck\",\n    value: function executeWithoutEncryptedFieldsCheck(server, session) {\n      var _this3 = this;\n      return new Promise(function (resolve, reject) {\n        var db = _this3.db;\n        var name = _this3.name;\n        var options = _this3.options;\n        var done = function done(err) {\n          if (err) {\n            return reject(err);\n          }\n          resolve(new collection_1.Collection(db, name, options));\n        };\n        var cmd = {\n          create: name\n        };\n        for (var n in options) {\n          if (options[n] != null && typeof options[n] !== 'function' && !ILLEGAL_COMMAND_FIELDS.has(n)) {\n            cmd[n] = options[n];\n          }\n        }\n        // otherwise just execute the command\n        _get(_getPrototypeOf(CreateCollectionOperation.prototype), \"executeCommand\", _this3).call(_this3, server, session, cmd, done);\n      });\n    }\n  }]);\n  return CreateCollectionOperation;\n}(command_1.CommandOperation);\nexports.CreateCollectionOperation = CreateCollectionOperation;\n(0, operation_1.defineAspects)(CreateCollectionOperation, [operation_1.Aspect.WRITE_OPERATION]);","map":{"version":3,"names":["constants_1","require","collection_1","error_1","command_1","indexes_1","operation_1","ILLEGAL_COMMAND_FIELDS","Set","INVALID_QE_VERSION","CreateCollectionOperation","_command_1$CommandOpe","_inherits","_super","_createSuper","db","name","_this","options","arguments","length","undefined","_classCallCheck","call","_createClass","key","value","executeCallback","server","session","callback","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_options$encryptedFie","_db$client$options$au","encryptedFields","_encryptedFields$escC","_encryptedFields$ecoc","escCollection","ecocCollection","_i","_arr","collectionName","createOp","coll","createIndexOp","wrap","_callee$","_context","prev","next","client","autoEncryption","encryptedFieldsMap","concat","databaseName","loadBalanced","description","maxWireVersion","MIN_SUPPORTED_QE_WIRE_VERSION","MongoCompatibilityError","MIN_SUPPORTED_QE_SERVER_VERSION","clusteredIndex","_id","unique","executeWithoutEncryptedFieldsCheck","_objectSpread","sent","CreateIndexOperation","__safeContent__","execute","abrupt","stop","then","err","_this3","Promise","resolve","reject","done","Collection","cmd","create","n","has","_get","_getPrototypeOf","prototype","CommandOperation","exports","defineAspects","Aspect","WRITE_OPERATION"],"sources":["/home/salman/Documents/GitHub/FakeShop/node_modules/mongodb/src/operations/create_collection.ts"],"sourcesContent":["import type { Document } from '../bson';\nimport {\n  MIN_SUPPORTED_QE_SERVER_VERSION,\n  MIN_SUPPORTED_QE_WIRE_VERSION\n} from '../cmap/wire_protocol/constants';\nimport { Collection } from '../collection';\nimport type { Db } from '../db';\nimport { MongoCompatibilityError } from '../error';\nimport type { PkFactory } from '../mongo_client';\nimport type { Server } from '../sdam/server';\nimport type { ClientSession } from '../sessions';\nimport type { Callback } from '../utils';\nimport { CommandOperation, type CommandOperationOptions } from './command';\nimport { CreateIndexOperation } from './indexes';\nimport { Aspect, defineAspects } from './operation';\n\nconst ILLEGAL_COMMAND_FIELDS = new Set([\n  'w',\n  'wtimeout',\n  'j',\n  'fsync',\n  'autoIndexId',\n  'pkFactory',\n  'raw',\n  'readPreference',\n  'session',\n  'readConcern',\n  'writeConcern',\n  'raw',\n  'fieldsAsRaw',\n  'useBigInt64',\n  'promoteLongs',\n  'promoteValues',\n  'promoteBuffers',\n  'bsonRegExp',\n  'serializeFunctions',\n  'ignoreUndefined',\n  'enableUtf8Validation'\n]);\n\n/** @public\n * Configuration options for timeseries collections\n * @see https://www.mongodb.com/docs/manual/core/timeseries-collections/\n */\nexport interface TimeSeriesCollectionOptions extends Document {\n  timeField: string;\n  metaField?: string;\n  granularity?: 'seconds' | 'minutes' | 'hours' | string;\n  bucketMaxSpanSeconds?: number;\n  bucketRoundingSeconds?: number;\n}\n\n/** @public\n * Configuration options for clustered collections\n * @see https://www.mongodb.com/docs/manual/core/clustered-collections/\n */\nexport interface ClusteredCollectionOptions extends Document {\n  name?: string;\n  key: Document;\n  unique: boolean;\n}\n\n/** @public */\nexport interface CreateCollectionOptions extends CommandOperationOptions {\n  /** Create a capped collection */\n  capped?: boolean;\n  /** @deprecated Create an index on the _id field of the document. This option is deprecated in MongoDB 3.2+ and will be removed once no longer supported by the server. */\n  autoIndexId?: boolean;\n  /** The size of the capped collection in bytes */\n  size?: number;\n  /** The maximum number of documents in the capped collection */\n  max?: number;\n  /** Available for the MMAPv1 storage engine only to set the usePowerOf2Sizes and the noPadding flag */\n  flags?: number;\n  /** Allows users to specify configuration to the storage engine on a per-collection basis when creating a collection */\n  storageEngine?: Document;\n  /** Allows users to specify validation rules or expressions for the collection. For more information, see Document Validation */\n  validator?: Document;\n  /** Determines how strictly MongoDB applies the validation rules to existing documents during an update */\n  validationLevel?: string;\n  /** Determines whether to error on invalid documents or just warn about the violations but allow invalid documents to be inserted */\n  validationAction?: string;\n  /** Allows users to specify a default configuration for indexes when creating a collection */\n  indexOptionDefaults?: Document;\n  /** The name of the source collection or view from which to create the view. The name is not the full namespace of the collection or view (i.e., does not include the database name and implies the same database as the view to create) */\n  viewOn?: string;\n  /** An array that consists of the aggregation pipeline stage. Creates the view by applying the specified pipeline to the viewOn collection or view */\n  pipeline?: Document[];\n  /** A primary key factory function for generation of custom _id keys. */\n  pkFactory?: PkFactory;\n  /** A document specifying configuration options for timeseries collections. */\n  timeseries?: TimeSeriesCollectionOptions;\n  /** A document specifying configuration options for clustered collections. For MongoDB 5.3 and above. */\n  clusteredIndex?: ClusteredCollectionOptions;\n  /** The number of seconds after which a document in a timeseries or clustered collection expires. */\n  expireAfterSeconds?: number;\n  /** @experimental */\n  encryptedFields?: Document;\n  /**\n   * If set, enables pre-update and post-update document events to be included for any\n   * change streams that listen on this collection.\n   */\n  changeStreamPreAndPostImages?: { enabled: boolean };\n}\n\n/* @internal */\nconst INVALID_QE_VERSION =\n  'Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.';\n\n/** @internal */\nexport class CreateCollectionOperation extends CommandOperation<Collection> {\n  override options: CreateCollectionOptions;\n  db: Db;\n  name: string;\n\n  constructor(db: Db, name: string, options: CreateCollectionOptions = {}) {\n    super(db, options);\n\n    this.options = options;\n    this.db = db;\n    this.name = name;\n  }\n\n  override executeCallback(\n    server: Server,\n    session: ClientSession | undefined,\n    callback: Callback<Collection>\n  ): void {\n    (async () => {\n      const db = this.db;\n      const name = this.name;\n      const options = this.options;\n\n      const encryptedFields: Document | undefined =\n        options.encryptedFields ??\n        db.client.options.autoEncryption?.encryptedFieldsMap?.[`${db.databaseName}.${name}`];\n\n      if (encryptedFields) {\n        // Creating a QE collection required min server of 7.0.0\n        // TODO(NODE-5353): Get wire version information from connection.\n        if (\n          !server.loadBalanced &&\n          server.description.maxWireVersion < MIN_SUPPORTED_QE_WIRE_VERSION\n        ) {\n          throw new MongoCompatibilityError(\n            `${INVALID_QE_VERSION} The minimum server version required is ${MIN_SUPPORTED_QE_SERVER_VERSION}`\n          );\n        }\n        // Create auxilliary collections for queryable encryption support.\n        const escCollection = encryptedFields.escCollection ?? `enxcol_.${name}.esc`;\n        const ecocCollection = encryptedFields.ecocCollection ?? `enxcol_.${name}.ecoc`;\n\n        for (const collectionName of [escCollection, ecocCollection]) {\n          const createOp = new CreateCollectionOperation(db, collectionName, {\n            clusteredIndex: {\n              key: { _id: 1 },\n              unique: true\n            }\n          });\n          await createOp.executeWithoutEncryptedFieldsCheck(server, session);\n        }\n\n        if (!options.encryptedFields) {\n          this.options = { ...this.options, encryptedFields };\n        }\n      }\n\n      const coll = await this.executeWithoutEncryptedFieldsCheck(server, session);\n\n      if (encryptedFields) {\n        // Create the required index for queryable encryption support.\n        const createIndexOp = new CreateIndexOperation(db, name, { __safeContent__: 1 }, {});\n        await createIndexOp.execute(server, session);\n      }\n\n      return coll;\n    })().then(\n      coll => callback(undefined, coll),\n      err => callback(err)\n    );\n  }\n\n  private executeWithoutEncryptedFieldsCheck(\n    server: Server,\n    session: ClientSession | undefined\n  ): Promise<Collection> {\n    return new Promise<Collection>((resolve, reject) => {\n      const db = this.db;\n      const name = this.name;\n      const options = this.options;\n\n      const done: Callback = err => {\n        if (err) {\n          return reject(err);\n        }\n\n        resolve(new Collection(db, name, options));\n      };\n\n      const cmd: Document = { create: name };\n      for (const n in options) {\n        if (\n          (options as any)[n] != null &&\n          typeof (options as any)[n] !== 'function' &&\n          !ILLEGAL_COMMAND_FIELDS.has(n)\n        ) {\n          cmd[n] = (options as any)[n];\n        }\n      }\n\n      // otherwise just execute the command\n      super.executeCommand(server, session, cmd, done);\n    });\n  }\n}\n\ndefineAspects(CreateCollectionOperation, [Aspect.WRITE_OPERATION]);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}